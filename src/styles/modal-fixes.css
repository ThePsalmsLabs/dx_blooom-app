/**
 * Modal Positioning Fixes
 * 
 * This CSS file ensures that modals (especially the SwapModal) are always 
 * properly positioned and visible with the correct overlay.
 */

/* Force modal containers to the highest z-index */
[data-radix-portal] {
  z-index: 10000 !important;
}

/* Ensure overlay is always visible and covers the entire viewport */
[data-slot="dialog-overlay"] {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 9999 !important;
  background-color: rgba(0, 0, 0, 0.6) !important;
  backdrop-filter: blur(4px) !important;
  pointer-events: auto !important;
}

/* Ensure modal content is centered and above overlay */
[data-slot="dialog-content"] {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  transform: translate(-50%, -50%) !important;
  z-index: 10000 !important;
  max-height: 90vh !important;
  max-width: 95vw !important;
  overflow-y: auto !important;
  pointer-events: auto !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Special handling for SwapModal specifically */
.swap-modal-container [data-slot="dialog-content"] {
  min-width: 400px !important;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5) !important;
}

/* Ensure modals work on mobile devices */
@media (max-width: 640px) {
  [data-slot="dialog-content"] {
    max-width: 95vw !important;
    margin: 1rem !important;
  }
  
  .swap-modal-container [data-slot="dialog-content"] {
    min-width: auto !important;
    width: calc(100vw - 2rem) !important;
  }
}

/* Fix for potential z-index stacking contexts */
body:has([data-state="open"][data-slot="dialog-overlay"]) {
  overflow: hidden;
}

/* Ensure modal backgrounds work correctly */
[data-state="open"][data-slot="dialog-overlay"] {
  animation: fade-in 0.2s ease-out;
}

[data-state="closed"][data-slot="dialog-overlay"] {
  animation: fade-out 0.15s ease-in;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

/* Debug styles - uncomment to troubleshoot modal positioning issues */
/*
[data-slot="dialog-overlay"] {
  border: 3px solid red !important;
}

[data-slot="dialog-content"] {
  border: 3px solid blue !important;
}
*/
